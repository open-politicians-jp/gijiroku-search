# API統合で学んだ教訓

## 国会会議録検索API
- **レート制限**: 1-3秒間隔でリクエスト必須
- **IP偽装**: fake-useragentライブラリでUser-Agentローテーション
- **文字エンコーディング**: apparent_encodingで自動検出
- **エラーハンドリング**: 個別ファイル失敗でも全体処理継続

## データ処理パターン
- **テキストクリーニング**: 全角スペース → 半角スペース統一
- **連続改行制限**: 3回以上 → 2回まで
- **日本語構造保持**: 自然な改行は維持

## Next.js API Routes
- **動的ルート**: request.urlの使用でStatic Generation警告
- **キャッシュ戦略**: 5分間メモリキャッシュで性能向上
- **エラーレスポンス**: 一貫したJSONエラー形式

## フロントエンド最適化
- **モバイル対応**: Tailwind breakpoints (sm:, md:, lg:)
- **コンポーネント分離**: 検索タイプ別コンポーネント分割
- **状態管理**: 検索結果とニュース結果の分離管理

## GitHub Actions
- **UV環境**: Python 3.11 + UV での依存関係管理
- **並列実行**: データ収集 → 委員会ニュース収集の順次実行
- **ファイル管理**: frontend/public/data/ の自動更新